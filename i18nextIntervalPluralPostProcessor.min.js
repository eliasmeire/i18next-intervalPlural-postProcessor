!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.i18nextIntervalPluralPostProcessor=e()}(this,function(){"use strict";"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)};function f(t){this.value=t}function t(o){var i,s;function a(t,e){try{var n=o[t](e),r=n.value;r instanceof f?Promise.resolve(r.value).then(function(t){a("next",t)},function(t){a("throw",t)}):u(n.done?"return":"normal",n.value)}catch(t){u("throw",t)}}function u(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}(i=i.next)?a(i.key,i.arg):s=null}this._invoke=function(r,o){return new Promise(function(t,e){var n={key:r,arg:o,resolve:t,reject:e,next:null};s?s=s.next=n:(i=s=n,a(r,o))})},"function"!=typeof o.return&&(this.return=void 0)}var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};return{name:"interval",type:"postProcessor",options:{intervalSeparator:";",intervalRegex:/\((\S*)\).*?\[((.|\n)*)\]/,intervalSuffix:"_interval"},setOptions:function(t){this.options=c({},this.options,t)},process:function(t,e,n,r){var o=this,i=t.split(this.options.intervalSeparator),s=void 0;if(i.forEach(function(t){if(!s){var e=o.options.intervalRegex.exec(t);e&&function(t,e){if(-1<t.indexOf("-")){var n=t.split("-");if("inf"===n[1])return parseInt(n[0],10)<=e;var r=parseInt(n[0],10),o=parseInt(n[1],10);return r<=e&&e<=o}return parseInt(t,10)===e}(e[1],n.count||0)&&(s=e[2])}}),!s){var a=c({},n);if("string"==typeof a.postProcess)delete a.postProcess;else{var u=a.postProcess.indexOf("interval");-1!==u&&a.postProcess.splice(u,1)}var f=void 0;"string"==typeof e?f=e.replace(this.options.intervalSuffix,""):-1<e.length&&(f=e.map(function(t){return t.replace(o.options.intervalSuffix,"")})),f&&(s=r.translate(f,a))}return s||t}}});
